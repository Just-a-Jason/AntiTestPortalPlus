(()=>{"use strict";var e={987:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,"@keyframes popUp{from{transform:scale(0)}to{transform:scale(1)}}.ChatGPTResponse-ErrorPopUP{animation:popUp .5s ease-in-out;box-shadow:2px 2px 5px #000;background:#030303;border-radius:10px;text-align:center;padding:10px;width:200px}",""]);const a=i},195:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,"@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.5)}}.loadingSpinner{display:flex}.loadingSpinner .dot{animation:pulse 1.5s ease-in-out infinite;background-color:#464646;border-radius:50%;width:10px;height:10px;margin:4px}.loadingSpinner .dot:nth-child(2){animation-delay:1s}.loadingSpinner .dot:nth-child(3){animation-delay:.5s}",""]);const a=i},728:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".flex-center-row,.response-window-header,.flex-center-column,.response-window-body{align-items:center;justify-content:center;flex-direction:row;display:flex}.flex-center-column,.response-window-body{flex-direction:column}.response-window,.response-window-header,.response-window-footer{border-radius:20px 20px 0px 0px}.response-window-header,.response-window-body,.response-window-footer{padding:10px}.response-window{background-color:#171717;box-shadow:2px 2px 15px #000;font-family:monospace;user-select:none;color:#fff;height:400px;width:250px;margin-bottom:20px;margin-top:20px}.response-window-header{background-color:#222;border-bottom:2px solid #464646;justify-content:space-evenly;cursor:pointer;padding:10px}.response-window-header img{width:40px;height:40px}.response-window-header p{font-weight:bold;font-size:15px;color:#fff}.response-window-footer{background-color:#222;color:#464646;text-align:center;font-weight:bold}.response-window-footer *{margin:0}.response-window-body{background-color:#171717;height:295px}",""]);const a=i},127:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".ChatGPTResponse-RetryButton{box-shadow:2px 2px 10px #000;border-radius:10px;background-color:#222;margin-top:10px;cursor:pointer;padding:10px;width:100px;display:flex;align-items:center;justify-content:space-around;transition:.2s}.ChatGPTResponse-RetryButton:hover{background-color:#145060}",""]);const a=i},253:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".PeterTV{justify-content:center;background-color:#000;align-items:center;overflow:hidden;margin-top:50px;height:125px;display:flex;width:190px;cursor:grab}.PeterTV__TVImage{position:absolute;width:200px}.PeterTV__video{width:150px}",""]);const a=i},356:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".menu-item{border-bottom:1px solid #ccc;font-weight:bold;min-width:100px;font-size:14px;cursor:pointer;padding:10px;color:#000}.menu-item:last-child{border-bottom:none}",""]);const a=i},327:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".flex-center-row,.settings-nav ul,.settings-nav,.flex-center-column{align-items:center;justify-content:center;flex-direction:row;display:flex}.flex-center-column{flex-direction:column}.settings-nav .nav-path{color:#9d9d9d;text-align:right;padding:10px;width:50%}.settings-nav ul{flex-wrap:wrap;justify-content:left;list-style:none;padding:10px;width:50%;gap:10px}.settings-nav ul li{box-shadow:2px 2px 10px #e3e3e3;border:solid 2px #e3e3e3;padding:10px;border-radius:5px;transition:.2s;cursor:pointer;color:#000}.settings-nav ul li:hover{background-color:#e3e3e3;border-color:#f2f3f4}.settings-nav ul li.active{background-color:#b7deff;border-color:#b7b7b7}@media only screen and (max-width: 800px){.settings-nav{flex-direction:column-reverse}.settings-nav .nav-path{text-align:left;width:100%}.settings-nav ul{width:100%}.settings-screen-content{height:80vh}}",""]);const a=i},11:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".flex-center-row,.settings-screen .settings-content-screen .system-statistic,.settings-screen-content h1,.flex-center-column,.settings-screen{align-items:center;justify-content:center;flex-direction:row;display:flex}.flex-center-column,.settings-screen{flex-direction:column}.warning{box-shadow:2px 2px 10px rgba(0,0,0,.568627451);border:solid 2px #919191;background-color:#fff700;border-radius:10px;color:#919191;padding:10px}.settings-screen{font-family:Aktiv Grotesk TAH,sans-serif;user-select:none;transition:.5s;position:fixed;height:100vh;z-index:999;width:100vw;inset:0}.settings-screen-content{box-shadow:1px 1px 10px #000;background-color:#f2f3f4;border:solid 3px #e3e3e3;transform:translateY(120vh);border-radius:10px;transition:.5s;padding:15px;height:90%;width:80%}.settings-screen-content h1{border-bottom:2px solid #e3e3e3;justify-content:space-between;padding-bottom:10px;font-weight:normal;color:#9d9d9d}.settings-screen-content h1 img{cursor:pointer}.settings-screen .settings-content-screen{background-color:#e3e3e3;border:solid 2px #d9d6d6;border-radius:10px;width:96%;height:70%;padding:10px}.settings-screen .settings-content-screen .system-statistic{padding:10px;gap:10px;flex-direction:row-reverse;justify-content:left;background-color:#d9d6d6;border-radius:10px;margin-top:10px;width:70%;font-weight:500;color:#000}.settings-screen .settings-content-screen h3{margin-top:10px;color:#9d9d9d;font-weight:normal}.settings-screen.visible{background-color:rgba(0,0,0,.368627451)}.settings-screen.visible .settings-screen-content{transform:translateY(0)}",""]);const a=i},66:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".flexCenter,#widget-button{justify-content:center;flex-direction:column;align-items:center;display:flex}.settings-box{user-select:none;box-shadow:4px 4px 5px #888;background-color:#fafafa;border:solid 3px #e6e6e6;font-family:monospace;border-radius:15px;transition:.2s;position:fixed;cursor:pointer;font-size:10px;z-index:100;color:#fff;bottom:20px;right:20px}.settings-box:hover{background-color:#a6a6a6;border:solid 3px #303030}#widget-button{transition:.2s;cursor:pointer;height:40px;width:40px}#widget-button img{height:25px;width:25px}#widget-menu{box-shadow:0 0 10px rgba(0,0,0,.1);background-color:#fff;margin-bottom:20px;border-radius:5px;transform:translateX(150px);position:absolute;transition:.2s;bottom:100%;z-index:1;right:0}#widget-menu .settings-btn{padding:10px;cursor:pointer;width:100%;border:none;border-radius:10px;transition:.2s}#widget-menu .settings-btn:hover{background-color:#b7deff}#widget-menu.visible{transform:translateX(0px)}",""]);const a=i},411:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".slider{background-color:#171717;justify-content:left;border-radius:10px;align-items:center;position:relative;transition:.3s;cursor:pointer;display:flex;height:20px;width:40px}.slider__set{background-color:#fff;border-radius:50%;position:absolute;transition:.3s;margin-left:2px;height:15px;width:15px}.slider.on{background-color:#ff9d1c}",""]);const a=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",n=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),n&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),n&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,n,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var a=0;a<this.length;a++){var d=this[a][0];null!=d&&(i[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);n&&i[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),s&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=s):l[2]=s),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function s(e){for(var s=-1,n=0;n<t.length;n++)if(t[n].identifier===e){s=n;break}return s}function n(e,n){for(var r={},i=[],a=0;a<e.length;a++){var d=e[a],c=n.base?d[0]+n.base:d[0],l=r[c]||0,u="".concat(c," ").concat(l);r[c]=l+1;var p=s(u),h={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var m=o(h,n);n.byIndex=a,t.splice(a,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function o(e,t){var s=t.domAPI(t);return s.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;s.update(e=t)}else s.remove()}}e.exports=function(e,o){var r=n(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<r.length;i++){var a=s(r[i]);t[a].references--}for(var d=n(e,o),c=0;c<r.length;c++){var l=s(r[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}r=d}}},569:e=>{var t={};e.exports=function(e,s){var n=function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(s)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,s)=>{e.exports=function(e){var t=s.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(s){!function(e,t,s){var n="";s.supports&&(n+="@supports (".concat(s.supports,") {")),s.media&&(n+="@media ".concat(s.media," {"));var o=void 0!==s.layer;o&&(n+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),n+=s.css,o&&(n+="}"),s.media&&(n+="}"),s.supports&&(n+="}");var r=s.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,s)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.nc=void 0,(()=>{class e{body;constructor(){this.body=this.initTemplate()}appendChild(t){t instanceof e?this.body.element.appendChild(t.body.element):this.body.element.appendChild(t)}getBody(){return this.body}remove(){this.body.element.remove(),this.done()}initTemplate(){return this.template()}done(){}ready(){}}const t=t=>{t instanceof e&&(t=i(t)),t.childNodes.forEach((e=>e.remove()))},n=e=>document.createElement(e),o=(e,t)=>e.appendChild(i(t)),r=(e,t=!1)=>t?document.querySelectorAll(e):document.querySelector(e),i=e=>e.getBody().element,a=e=>{const t=localStorage.getItem(e);if(!t)return!1;try{return JSON.parse(t)}catch{return t}},d=(e,t)=>localStorage.setItem(e,t.toString()),c=()=>document.URL.includes("/exam/DoTestQuestion.html")||document.URL.includes("/exam/DoStartTest.html")||document.URL.includes("/exam/LoadQuestion.html");class l{static instance=new l;assetsCache=new Map;browser=this.getBrowser();static loadAsset(e){return this.instance.loadAssetUrl(e)}loadAssetUrl(e){if(this.assetsCache.has(e))return this.assetsCache.get(e);try{let t="";switch(this.browser){case"Chrome":case"Edge":case"Opera":t=chrome.runtime.getURL(e),this.assetsCache.set(e,t);break;case"Mozilla Firefox":t=browser.runtime.getURL(e),this.assetsCache.set(e,t);break;default:throw new Error(`${this.browser} your browser is not supported.`)}return t}catch(t){return console.warn(`Asset ${e} not found! ⚠️`),""}}getBrowser(){const e=window.navigator.userAgent;return e.includes("Firefox")?"Mozilla Firefox":e.includes("SamsungBrowser")?"Samsung Internet":e.includes("Opera")||e.includes("OPR")?"Opera":e.includes("Edge")||e.includes("Edg")?"Edge":e.includes("Chrome")?"Chrome":e.includes("Safari")?"Apple Safari":"Unknown"}async calculateCacheSize(){const e=Array.from(this.assetsCache.values()).map((async e=>{const t=await fetch(e);return t.ok?(await t.text()).length:0})),t=(await Promise.all(e)).reduce(((e,t)=>e+t),0);return Math.ceil(t/1024)+` KB (${this.countAssets()} assets)`}countAssets(){let e=0;for(const t of this.assetsCache)e++;return e}}var u=s(379),p=s.n(u),h=s(795),m=s.n(h),g=s(569),f=s.n(g),x=s(565),v=s.n(x),b=s(216),w=s.n(b),y=s(589),S=s.n(y),C=s(356),T={};T.styleTagTransform=S(),T.setAttributes=v(),T.insert=f().bind(null,"head"),T.domAPI=m(),T.insertStyleElement=w(),p()(C.Z,T),C.Z&&C.Z.locals&&C.Z.locals;class A extends e{menuItemText;constructor(e){super(),this.menuItemText=e,this.body.element.textContent=this.menuItemText}template(){const e=n("div");return e.className="menu-item",{element:e}}}var k=s(195),I={};I.styleTagTransform=S(),I.setAttributes=v(),I.insert=f().bind(null,"head"),I.domAPI=m(),I.insertStyleElement=w(),p()(k.Z,I),k.Z&&k.Z.locals&&k.Z.locals;class Z extends e{template(){const e=n("div");e.className="loadingSpinner";for(let t=0;t<3;t++){const t=n("div");t.className="dot",e.appendChild(t)}return{element:e}}}var L=s(987),E={};E.styleTagTransform=S(),E.setAttributes=v(),E.insert=f().bind(null,"head"),E.domAPI=m(),E.insertStyleElement=w(),p()(L.Z,E),L.Z&&L.Z.locals&&L.Z.locals;class P extends e{errorText;template(){const e=n("p");return e.classList.add("ChatGPTResponse-ErrorPopUP"),{element:e}}constructor(e){super(),this.errorText=e,this.ready()}ready(){this.body.element.innerText=this.errorText}}var z=s(127),V={};V.styleTagTransform=S(),V.setAttributes=v(),V.insert=f().bind(null,"head"),V.domAPI=m(),V.insertStyleElement=w(),p()(z.Z,V),z.Z&&z.Z.locals&&z.Z.locals;class N extends e{constructor(){super(),this.ready()}template(){const e=n("div"),t=n("img");t.src=l.loadAsset("Assets/Icons/reload.svg");const s=n("p");return s.textContent="Retry",e.classList.add("ChatGPTResponse-RetryButton"),e.appendChild(s),e.appendChild(t),{element:e}}ready(){this.body?.element?.addEventListener("click",(()=>{M.turn(!1),M.turn(!0)}))}}var R=s(728),j={};j.styleTagTransform=S(),j.setAttributes=v(),j.insert=f().bind(null,"head"),j.domAPI=m(),j.insertStyleElement=w(),p()(R.Z,j),R.Z&&R.Z.locals&&R.Z.locals;class _ extends e{template(){const e=n("div");e.className="response-window";const t=n("header");t.className="response-window-header";const s=n("img");s.src=l.loadAsset("Assets/Icons/ai.svg"),s.alt="ai provider api logo",s.draggable=!1;const r=n("p");r.textContent="AI Solver ✨",t.appendChild(s),t.appendChild(r);const i=n("section");i.className="response-window-body";const a=new Z;o(i,a);const d=n("footer");d.className="response-window-footer";const c=n("p");return c.textContent="RuntimeDevStudios.com",d.appendChild(c),e.appendChild(t),e.appendChild(i),e.appendChild(d),{element:e,structure:{responseBody:i,spinner:a}}}displayError(e){this.body.structure?.responseBody&&(this.body.structure.spinner=void 0,t(this.body.structure.responseBody),this.body.structure&&(o(this.body.structure.responseBody,new P(e)),o(this.body.structure.responseBody,new N)))}}class U{static readQuestionText(){const e=r(".question_essence");return e?e.textContent:""}static readAnswers(){const e=r(".question_answers");if(!e)return"";let t="";return e.childNodes.forEach((e=>{const s=e.querySelector("p");s&&(t+=s.innerText+"\n")})),t}static getQuestionType(){switch(r(".question_answers input").type){case"radio":return 0;case"checkbox":return 1;default:return 2}}}class B{static insert(t,s=null){t=t instanceof e?i(t):t,null===s?document.body.append(t):s instanceof e?s.appendChild(t):s.append(t)}}class M{static window=null;static session=null;static turn(e){if(c())if(e){M.window=new _;const e=r(".question-area");if(B.insert(M.window,e),!window.ai)return void M.window?.displayError("Twoja przeglądarka nie obsługuje jeszcze Chrome AI API... 🤖");const t=U.readQuestionText()+"\n"+U.readAnswers();if(""===t.trim())return void this.window?.displayError("Nie mogę odczytać odpowiedzi ani pytania... 😥");(async()=>{try{const e=await window.ai.createGenericSession(),s=(await e.execute(t)).trim(),n=U.getQuestionType();if(this.session=e,1===n&&r("input",!0).forEach((e=>e.checked=!1)),2===n){const e=r("input[type='text']"),t=e.maxLength;e.value=s.substring(0,t)}else r("label",!0).forEach((async t=>{if(JSON.parse(await e.execute(`\n                  Napisz "true" lub "false" zależnie od tego czy odpowiedź zgadza się z tekstem. text: "${s}". odpowiedz: "${t.textContent}"\n                `))){const e=r(`#${t.htmlFor}`);switch(n){case 0:return void e.click();case 1:e.click()}}}));this.window?.displayError(s),this.destroySession()}catch(e){console.error(e),this.window?.displayError("Nie można utworzyć sesji. 😥")}})()}else M.window?.remove(),M.window=null,this.destroySession()}static destroySession(){this.session&&(this.session.destroy(),this.session=null)}}var O=s(253),$={};$.styleTagTransform=S(),$.setAttributes=v(),$.insert=f().bind(null,"head"),$.domAPI=m(),$.insertStyleElement=w(),p()(O.Z,$),O.Z&&O.Z.locals&&O.Z.locals;class G extends e{currentVideo=0;maxVideos=10;setPosition(e){const t=e.x-this.body.element.clientWidth/2+"px",s=e.y-this.body.element.clientHeight/2+"px";this.body.element.style.left=t,this.body.element.style.top=s}template(){const e=n("div");e.className="PeterTV";const t=n("img");t.src=l.loadAsset("Assets/PeterTV/peterTv.png"),t.alt="peterTV",t.className="PeterTV__TVImage";const s=n("video");return s.src=l.loadAsset(`Assets/PeterTV/vid_${this.currentVideo||0}.mp4`),s.addEventListener("ended",(()=>this.nextVideo())),s.addEventListener("dblclick",(()=>this.nextVideo())),s.className="PeterTV__video",s.autoplay=!0,e.appendChild(t),e.appendChild(s),{element:e,structure:{video:s}}}nextVideo(){this.currentVideo++,this.currentVideo%=this.maxVideos,this.body.structure.video.src=l.loadAsset(`Assets/PeterTV/vid_${this.currentVideo}.mp4`)}}class q{static window=null;static turn(e){if(e){if(document.URL.includes("/exam/DoTestQuestion.html")||document.URL.includes("/exam/DoStartTest.html")||document.URL.includes("/exam/LoadQuestion.html")){const e=r(".question-area"),t=new G;this.window=t,B.insert(t,e)}}else this.window?.remove()}}class F{static build(e,t=!1){const s=n("script");return s.type="text/javascript",s.textContent="string"==typeof e?e:e.toString(),t?document.body.insertBefore(s,document.body.childNodes[0]):B.insert(s),s}}class Q{static logScript=null;static blurScript=null;static turn(e){Q.destroyScripts(),e&&(Q.logScript=F.build("logToServer = () => {}"),Q.blurScript=F.build("Object.defineProperty(document, 'hasFocus', {get: () => {throw new ReferenceError('AntiBlur')},})"))}static destroyScripts(){Q.logScript?.remove(),Q.blurScript?.remove()}}var D=s(411),J={};J.styleTagTransform=S(),J.setAttributes=v(),J.insert=f().bind(null,"head"),J.domAPI=m(),J.insertStyleElement=w(),p()(D.Z,J),D.Z&&D.Z.locals&&D.Z.locals;class H{static onClick(){const e=U.readQuestionText(),t=encodeURI(`https://google.com/search?q=${e}`);window.open(t,"_blank")}static turn(e){if(!c())return;const t=r(".question_essence p");if(e)return t.style.fontWeight="bold",t.style.cursor="pointer",t.style.fontSize="20px",t.style.color="#007fff",void t.addEventListener("click",this.onClick);t.style.fontWeight="400",t.style.fontSize="1rem",t.style.cursor="text",t.style.color="#000",t.removeEventListener("click",this.onClick)}}class W extends e{key;on;constructor(e,t=!1){super(),this.key=e,this.on=t,this.ready()}template(){const e=n("div");e.className="slider",document.body.appendChild(e);const t=n("div");return t.className="slider__set",e.appendChild(t),{element:e,structure:{sliderSet:t}}}ready(){localStorage.getItem(this.key)&&(this.on=JSON.parse(localStorage.getItem(this.key))),this.setState(this.on),this.body.element.addEventListener("click",(()=>{this.setState(!this.on),this.setSettingState(),"com.runtimedevstudios.anti-testportal+.peter-tv"==this.key&&q.turn(this.on)}))}setState(e){let t=e?120:0;e?this.body.element.classList.add("on"):this.body.element.classList.remove("on"),this.body.structure.sliderSet.style.transform=`translateX(${t}%)`,this.on=e}setSettingState(){switch(localStorage.setItem(this.key,this.on?"true":"false"),this.setState(JSON.parse(localStorage.getItem(this.key))),this.key){case"com.runtimedevstudios.anti-testportal+.blur":Q.turn(this.on);break;case"com.runtimedevstudios.anti-testportal+.ai-solver":M.turn(this.on);break;case"com.runtimedevstudios.anti-testportal+.google-search":H.turn(this.on)}}}var X=s(66),K={};K.styleTagTransform=S(),K.setAttributes=v(),K.insert=f().bind(null,"head"),K.domAPI=m(),K.insertStyleElement=w(),p()(X.Z,K),X.Z&&X.Z.locals&&X.Z.locals;var Y=s(11),ee={};ee.styleTagTransform=S(),ee.setAttributes=v(),ee.insert=f().bind(null,"head"),ee.domAPI=m(),ee.insertStyleElement=w(),p()(Y.Z,ee),Y.Z&&Y.Z.locals&&Y.Z.locals;class te extends e{template(){const e=n("div");return e.classList.add("settings-content-screen"),{element:e}}}class se extends e{path;constructor(e){super(),this.path=e;const t=e.trim().split(">"),s=t[t.length-1].trim();this.body.structure.text.textContent=s,localStorage.getItem("com.runtimedevstudios.anti-testportal+.settings.route")&&a("com.runtimedevstudios.anti-testportal+.settings.route")===e&&this.body.element.classList.add("active"),this.body.element.title=`${s} settings.`}template(){const e=n("li");e.classList.add("settings-item");const t=n("p");return e.appendChild(t),e.addEventListener("click",(e=>{const t=r(".settings-item.active");d("com.runtimedevstudios.anti-testportal+.settings.route",this.path),t&&t.classList.remove("active"),e.currentTarget.classList.add("active"),le.instance?.updatePath(`${this.path}`)})),{element:e,structure:{text:t}}}}class ne extends e{image;headerText;content;constructor(e,t,s){if(super(),this.image=e,this.headerText=t,this.content=s,this.body.structure){const{header:n,img:o,p:r}=this.body.structure;r.textContent=s,n.textContent=t;const i=l.loadAsset(e);o.src=i,r.appendChild(o)}}template(){const e=n("div"),t=n("h3"),s=n("p");s.classList.add("system-statistic");const o=n("img");return o.draggable=!1,s.appendChild(o),e.appendChild(t),e.appendChild(s),{element:e,structure:{header:t,img:o,p:s}}}setText(e){const{p:t,img:s}=this.body.structure;t.textContent=e,t.appendChild(s)}}const oe=new Map([["System ⚙️",new class extends e{template(){const e=performance.now(),t=n("div"),s=new ne("Assets/Icons/cache.svg","Cached assets size","Calculating cache size..."),r=new ne("Assets/Icons/js.svg","JS bundle size","Loading bundle size..."),i=new ne("Assets/Icons/version.svg","App Version","1.0.0"),a=new ne("Assets/Icons/timer.svg","Render performance","Calculaing performance...");return o(t,r),o(t,s),o(t,a),o(t,new ne("Assets/Icons/figa.png","GUI engine","Figa (custom engine)")),o(t,i),(async()=>{const t=l.loadAsset("Assets/index.js"),n=await fetch(t,{method:"GET"});if(n.ok){const e=Math.ceil((await n.text()).length/1024)+" KB";r.setText(e)}s.setText(await l.instance.calculateCacheSize()),a.setText((performance.now()-e).toFixed(3)+" ms")})(),{element:t}}}],["System ⚙️ > Settings 🛠️ > AI 🤖",new class extends e{template(){const e=n("div"),t=n("p");t.textContent="AI Provider";const s=n("select");return["Chat GPT","Chrome API"].forEach((e=>{const t=n("option");t.innerText=e,t.value=e,s.appendChild(t)})),e.appendChild(t),e.appendChild(s),{element:e}}}],["System ⚙️ > Settings 🛠️ > General 📁",new class extends e{template(){return{element:n("p")}}}]]);var re=s(327),ie={};ie.styleTagTransform=S(),ie.setAttributes=v(),ie.insert=f().bind(null,"head"),ie.domAPI=m(),ie.insertStyleElement=w(),p()(re.Z,ie),re.Z&&re.Z.locals&&re.Z.locals;class ae extends e{template(){const e=n("nav");e.classList.add("settings-nav");const t=n("ul"),s=n("p");return s.textContent="System ⚙️ > Settings 🛠️",s.classList.add("nav-path"),oe.forEach(((e,s)=>{o(t,new se(s))})),e.appendChild(t),e.appendChild(s),{element:e}}}class de extends e{showScreen(e){this.appendChild(e)}template(){const e=n("div");e.classList.add("settings-screen-content");const t=n("h1");t.textContent="Settings 🛠️";const s=n("img");s.src=l.loadAsset("Assets/Icons/close.svg"),s.draggable=!1,s.title="Close tab. ❌",t.appendChild(s),e.appendChild(t);const r=new ae;o(e,r);const i=new te;return o(e,i),s.addEventListener("click",(()=>{le.instance?.getBody().element.classList.remove("visible"),d("com.runtimedevstudios.anti-testportal+.settings.open",!1),setTimeout((()=>le.instance?.remove()),600)})),{element:e}}}class ce{routes;target;constructor(e,t){this.routes=e,this.target=t}register(e,t){this.routes.set(e,t)}navigate(s){try{s=s.trim(),t(this.target);const n=this.routes.get(s);this.target instanceof e?this.target.appendChild(n):o(this.target,n)}catch(e){t(this.target);const o=`Route: "${s}" does not exists! Use router.register(string, UIComponent) to add new route.`,r=n("p");r.classList.add("warning"),r.textContent=o+"⚠️",this.target.appendChild(r),console.warn(o)}}}class le extends e{static instance=null;router=null;constructor(){super(),le.instance=this}template(){const e=n("div"),t=new de;return o(e,t),e.classList.add("settings-screen"),setTimeout((()=>e.classList.add("visible")),100),{element:e}}remove(){super.remove()}updatePath(e){this.router||(this.router=new ce(oe,r(".settings-content-screen")));const s=r(".nav-path");t(s),s.textContent=e,this.router.navigate(e)}}class ue extends e{visible=!1;showSettings(){const e=new le;o(document.body,e),localStorage.getItem("com.runtimedevstudios.anti-testportal+.settings.route")||d("com.runtimedevstudios.anti-testportal+.settings.route","System ⚙️"),e.updatePath(a("com.runtimedevstudios.anti-testportal+.settings.route")),d("com.runtimedevstudios.anti-testportal+.settings.open",!0)}template(){const e=n("div");e.classList.add("settings-box"),B.insert(e);const t=n("div");t.id="widget-menu",e.appendChild(t);const s=n("div");s.id="widget-button";const r=n("img");r.src=l.loadAsset("Assets/Icons/logo.png"),r.draggable=!1,r.classList.add("SettingsBox__image"),s.appendChild(r),e.appendChild(s),s.addEventListener("click",(()=>{t.classList.toggle("visible"),this.visible=t.classList.contains("visible"),d("com.runtimedevstudios.anti-testportal+.window-open",this.visible)})),this.get("com.runtimedevstudios.anti-testportal+.window-open")&&setTimeout((()=>{t.classList.add("visible"),this.visible=!0}),100);const i=n("button");i.textContent="Settings 🛠️";const a=new A("");return a.appendChild(i),o(t,a),i.classList.add("settings-btn"),i.addEventListener("click",this.showSettings),{element:e,structure:{menu:t}}}loadSliders(){const e=this.body.structure?.menu;new Map([["com.runtimedevstudios.anti-testportal+.blur",{name:"Anti Blur 🫧",defaultValue:!0}],["com.runtimedevstudios.anti-testportal+.ai-solver",{name:"AI Solver 🤖",defaultValue:!0}],["com.runtimedevstudios.anti-testportal+.peter-tv",{name:"PeterTV 📺",defaultValue:!1}],["com.runtimedevstudios.anti-testportal+.google-search",{name:"Google Search 🔍",defaultValue:!0}]]).forEach(((t,s)=>{localStorage.getItem(s)||d(s,t.defaultValue);const n=new A(t.name),o=new W(s);n.appendChild(o),e.appendChild(i(n))}))}get(e){return!!localStorage.getItem(e)&&a(e)}loadSettings(){H.turn(this.get("com.runtimedevstudios.anti-testportal+.google-search")),Q.turn(this.get("com.runtimedevstudios.anti-testportal+.blur")),M.turn(this.get("com.runtimedevstudios.anti-testportal+.ai-solver")),q.turn(this.get("com.runtimedevstudios.anti-testportal+.peter-tv")),this.get("com.runtimedevstudios.anti-testportal+.settings.open")&&this.showSettings(),this.loadSliders()}}document.URL.includes("/manager/")||(new ue).loadSettings()})()})();