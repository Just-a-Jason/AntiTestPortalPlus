(()=>{"use strict";var e={987:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,"@keyframes popUp{from{transform:scale(0)}to{transform:scale(1)}}.ChatGPTResponse-ErrorPopUP{animation:popUp .5s ease-in-out;box-shadow:2px 2px 5px #000;background:#030303;border-radius:10px;text-align:center;padding:10px;width:200px}",""]);const a=i},195:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,"@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.5)}}.loadingSpinner{display:flex}.loadingSpinner .dot{animation:pulse 1.5s ease-in-out infinite;background-color:#464646;border-radius:50%;width:10px;height:10px;margin:4px}.loadingSpinner .dot:nth-child(2){animation-delay:1s}.loadingSpinner .dot:nth-child(3){animation-delay:.5s}",""]);const a=i},728:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".flex-center-row,.response-window-header,.flex-center-column,.response-window-body{align-items:center;justify-content:center;flex-direction:row;display:flex}.flex-center-column,.response-window-body{flex-direction:column}.response-window,.response-window-header,.response-window-footer{border-radius:20px 20px 0px 0px}.response-window-header,.response-window-body,.response-window-footer{padding:10px}.response-window{background-color:#171717;box-shadow:2px 2px 15px #000;font-family:monospace;user-select:none;color:#fff;height:400px;width:250px;margin-bottom:20px;margin-top:20px}.response-window-header{background-color:#222;border-bottom:2px solid #464646;justify-content:space-evenly;cursor:pointer;padding:10px}.response-window-header img{width:40px;height:40px}.response-window-header p{font-weight:bold;font-size:15px;color:#fff}.response-window-footer{background-color:#222;color:#464646;text-align:center;font-weight:bold}.response-window-footer *{margin:0}.response-window-body{background-color:#171717;height:295px}",""]);const a=i},127:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".ChatGPTResponse-RetryButton{box-shadow:2px 2px 10px #000;border-radius:10px;background-color:#222;margin-top:10px;cursor:pointer;padding:10px;width:100px;display:flex;align-items:center;justify-content:space-around;transition:.2s}.ChatGPTResponse-RetryButton:hover{background-color:#145060}",""]);const a=i},253:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".PeterTV{justify-content:center;background-color:#000;align-items:center;overflow:hidden;margin-top:50px;height:125px;display:flex;width:190px;cursor:grab}.PeterTV__TVImage{position:absolute;width:200px}.PeterTV__video{width:150px}",""]);const a=i},356:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".menu-item{border-bottom:1px solid #ccc;font-weight:bold;min-width:100px;font-size:14px;cursor:pointer;padding:10px;color:#000}.menu-item:last-child{border-bottom:none}",""]);const a=i},327:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".flex-center-row,.settings-nav ul,.settings-nav,.flex-center-column{align-items:center;justify-content:center;flex-direction:row;display:flex}.flex-center-column{flex-direction:column}.settings-nav .nav-path{text-align:right;padding:10px;width:50%}.settings-nav ul{justify-content:left;list-style:none;padding:10px;width:50%;gap:10px}.settings-nav ul li{box-shadow:2px 2px 10px #e3e3e3;border:solid 2px #e3e3e3;padding:10px;border-radius:5px;transition:.2s;cursor:pointer;color:#000}.settings-nav ul li:hover{background-color:#e3e3e3;border-color:#f2f3f4}.settings-nav ul li.active{background-color:#b7deff;border-color:#b7b7b7}@media only screen and (max-width: 600px){.settings-nav{flex-direction:column-reverse}.settings-nav .nav-path{text-align:left;width:100%}.settings-nav ul{width:100%}}",""]);const a=i},11:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".flex-center-row,.settings-screen-content h1,.flex-center-column,.settings-screen{align-items:center;justify-content:center;flex-direction:row;display:flex}.flex-center-column,.settings-screen{flex-direction:column}.settings-screen{user-select:none;transition:.5s;position:fixed;height:100vh;z-index:999;width:100vw;inset:0}.settings-screen-content{box-shadow:1px 1px 10px #000;background-color:#f2f3f4;border:solid 3px #e3e3e3;transform:translateY(120vh);border-radius:10px;transition:.5s;padding:15px;height:90%;width:80%}.settings-screen-content h1{border-bottom:2px solid #e3e3e3;justify-content:space-between;padding-bottom:10px;font-weight:normal;color:#9d9d9d}.settings-screen-content h1 img{cursor:pointer}.settings-screen .settings-content-screen{background-color:#e3e3e3;border:solid 2px #d9d6d6;border-radius:10px;width:100%;height:80%}.settings-screen.visible{background-color:rgba(0,0,0,.368627451)}.settings-screen.visible .settings-screen-content{transform:translateY(0)}",""]);const a=i},66:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".flexCenter,#widget-button{justify-content:center;flex-direction:column;align-items:center;display:flex}.settings-box{user-select:none;box-shadow:4px 4px 5px #888;background-color:#fafafa;border:solid 3px #e6e6e6;font-family:monospace;border-radius:15px;transition:.2s;position:fixed;cursor:pointer;font-size:10px;z-index:100;color:#fff;bottom:20px;right:20px}.settings-box:hover{background-color:#a6a6a6;border:solid 3px #303030}#widget-button{transition:.2s;cursor:pointer;height:40px;width:40px}#widget-button img{height:25px;width:25px}#widget-menu{box-shadow:0 0 10px rgba(0,0,0,.1);background-color:#fff;margin-bottom:20px;border-radius:5px;transform:translateX(150px);position:absolute;transition:.2s;bottom:100%;z-index:1;right:0}#widget-menu .settings-btn{padding:10px;cursor:pointer;width:100%;border:none;border-radius:10px;transition:.2s}#widget-menu .settings-btn:hover{background-color:#b7deff}#widget-menu.visible{transform:translateX(0px)}",""]);const a=i},411:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".slider{background-color:#171717;justify-content:left;border-radius:10px;align-items:center;position:relative;transition:.3s;cursor:pointer;display:flex;height:20px;width:40px}.slider__set{background-color:#fff;border-radius:50%;position:absolute;transition:.3s;margin-left:2px;height:15px;width:15px}.slider.on{background-color:#ff9d1c}",""]);const a=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",n=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),n&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),n&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,n,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var a=0;a<this.length;a++){var d=this[a][0];null!=d&&(i[d]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);n&&i[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),s&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=s):c[2]=s),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function s(e){for(var s=-1,n=0;n<t.length;n++)if(t[n].identifier===e){s=n;break}return s}function n(e,n){for(var r={},i=[],a=0;a<e.length;a++){var d=e[a],l=n.base?d[0]+n.base:d[0],c=r[l]||0,u="".concat(l," ").concat(c);r[l]=c+1;var p=s(u),h={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var m=o(h,n);n.byIndex=a,t.splice(a,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function o(e,t){var s=t.domAPI(t);return s.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;s.update(e=t)}else s.remove()}}e.exports=function(e,o){var r=n(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<r.length;i++){var a=s(r[i]);t[a].references--}for(var d=n(e,o),l=0;l<r.length;l++){var c=s(r[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}r=d}}},569:e=>{var t={};e.exports=function(e,s){var n=function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(s)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,s)=>{e.exports=function(e){var t=s.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(s){!function(e,t,s){var n="";s.supports&&(n+="@supports (".concat(s.supports,") {")),s.media&&(n+="@media ".concat(s.media," {"));var o=void 0!==s.layer;o&&(n+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),n+=s.css,o&&(n+="}"),s.media&&(n+="}"),s.supports&&(n+="}");var r=s.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,s)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.nc=void 0,(()=>{class e{body;constructor(){this.body=this.initTemplate()}appendChild(t){t instanceof e?this.body.element.appendChild(t.body.element):this.body.element.appendChild(t)}getBody(){return this.body}remove(){this.body.element.remove(),this.done()}initTemplate(){return this.template()}done(){}ready(){}}const t=e=>document.createElement(e),n=(e,t)=>e.appendChild(r(t)),o=(e,t=!1)=>t?document.querySelectorAll(e):document.querySelector(e),r=e=>e.getBody().element,i=(e,t)=>localStorage.setItem(e,t.toString()),a=()=>document.URL.includes("/exam/DoTestQuestion.html")||document.URL.includes("/exam/DoStartTest.html")||document.URL.includes("/exam/LoadQuestion.html");class d{static instance=new d;assetsCache=new Map;browser=this.getBrowser();static loadAsset(e){return this.instance.loadAssetUrl(e)}loadAssetUrl(e){if(this.assetsCache.has(e))return this.assetsCache.get(e);let t="";switch(this.browser){case"Chrome":case"Edge":case"Opera":t=chrome.runtime.getURL(e),this.assetsCache.set(e,t);break;case"Mozilla Firefox":t=browser.runtime.getURL(e),this.assetsCache.set(e,t);break;default:throw new Error(`${this.browser} your browser is not supported.`)}return t}getBrowser(){const e=window.navigator.userAgent;return e.includes("Firefox")?"Mozilla Firefox":e.includes("SamsungBrowser")?"Samsung Internet":e.includes("Opera")||e.includes("OPR")?"Opera":e.includes("Edge")||e.includes("Edg")?"Edge":e.includes("Chrome")?"Chrome":e.includes("Safari")?"Apple Safari":"Unknown"}}var l=s(379),c=s.n(l),u=s(795),p=s.n(u),h=s(569),m=s.n(h),g=s(565),f=s.n(g),x=s(216),b=s.n(x),v=s(589),y=s.n(v),w=s(356),S={};S.styleTagTransform=y(),S.setAttributes=f(),S.insert=m().bind(null,"head"),S.domAPI=p(),S.insertStyleElement=b(),c()(w.Z,S),w.Z&&w.Z.locals&&w.Z.locals;class T extends e{menuItemText;constructor(e){super(),this.menuItemText=e,this.body.element.textContent=this.menuItemText}template(){const e=t("div");return e.className="menu-item",{element:e}}}var C=s(195),k={};k.styleTagTransform=y(),k.setAttributes=f(),k.insert=m().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=b(),c()(C.Z,k),C.Z&&C.Z.locals&&C.Z.locals;class A extends e{template(){const e=t("div");e.className="loadingSpinner";for(let s=0;s<3;s++){const s=t("div");s.className="dot",e.appendChild(s)}return{element:e}}}var Z=s(987),E={};E.styleTagTransform=y(),E.setAttributes=f(),E.insert=m().bind(null,"head"),E.domAPI=p(),E.insertStyleElement=b(),c()(Z.Z,E),Z.Z&&Z.Z.locals&&Z.Z.locals;class L extends e{errorText;template(){const e=t("p");return e.classList.add("ChatGPTResponse-ErrorPopUP"),{element:e}}constructor(e){super(),this.errorText=e,this.ready()}ready(){this.body.element.innerText=this.errorText}}var I=s(127),P={};P.styleTagTransform=y(),P.setAttributes=f(),P.insert=m().bind(null,"head"),P.domAPI=p(),P.insertStyleElement=b(),c()(I.Z,P),I.Z&&I.Z.locals&&I.Z.locals;class V extends e{constructor(){super(),this.ready()}template(){const e=t("div"),s=t("img");s.src=d.loadAsset("Assets/Icons/reload.svg");const n=t("p");return n.textContent="Retry",e.classList.add("ChatGPTResponse-RetryButton"),e.appendChild(n),e.appendChild(s),{element:e}}ready(){this.body?.element?.addEventListener("click",(()=>{U.turn(!1),U.turn(!0)}))}}var N=s(728),R={};R.styleTagTransform=y(),R.setAttributes=f(),R.insert=m().bind(null,"head"),R.domAPI=p(),R.insertStyleElement=b(),c()(N.Z,R),N.Z&&N.Z.locals&&N.Z.locals;class z extends e{template(){const e=t("div");e.className="response-window";const s=t("header");s.className="response-window-header";const o=t("img");o.src=d.loadAsset("Assets/Icons/ai.svg"),o.alt="ai provider api logo",o.draggable=!1;const r=t("p");r.textContent="AI Solver ✨",s.appendChild(o),s.appendChild(r);const i=t("section");i.className="response-window-body";const a=new A;n(i,a);const l=t("footer");l.className="response-window-footer";const c=t("p");return c.textContent="RuntimeDevStudios.com",l.appendChild(c),e.appendChild(s),e.appendChild(i),e.appendChild(l),{element:e,structure:{responseBody:i,spinner:a}}}displayError(t){var s;this.body.structure?.responseBody&&(this.body.structure.spinner=void 0,(s=this.body.structure.responseBody)instanceof e&&(s=r(s)),s.childNodes.forEach((e=>e.remove())),this.body.structure&&(n(this.body.structure.responseBody,new L(t)),n(this.body.structure.responseBody,new V)))}}class _{static readQuestionText(){const e=o(".question_essence");return e?e.textContent:""}static readAnswers(){const e=o(".question_answers");if(!e)return"";let t="";return e.childNodes.forEach((e=>{const s=e.querySelector("p");s&&(t+=s.innerText+"\n")})),t}static getQuestionType(){switch(o(".question_answers input").type){case"radio":return 0;case"checkbox":return 1;default:return 2}}}class j{static insert(t,s=null){t=t instanceof e?r(t):t,null===s?document.body.append(t):s instanceof e?s.appendChild(t):s.append(t)}}class U{static window=null;static session=null;static turn(e){if(a())if(e){U.window=new z;const e=o(".question-area");if(j.insert(U.window,e),!window.ai)return void U.window?.displayError("Twoja przeglądarka nie obsługuje jeszcze Chrome AI API... 🤖");const t=_.readQuestionText()+"\n"+_.readAnswers();if(""===t.trim())return void this.window?.displayError("Nie mogę odczytać odpowiedzi ani pytania... 😥");(async()=>{try{const e=await window.ai.createGenericSession(),s=(await e.execute(t)).trim(),n=_.getQuestionType();if(this.session=e,1===n&&o("input",!0).forEach((e=>e.checked=!1)),2===n){const e=o("input[type='text']"),t=e.maxLength;e.value=s.substring(0,t)}else o("label",!0).forEach((async t=>{if(JSON.parse(await e.execute(`\n                  Napisz "true" lub "false" zależnie od tego czy odpowiedź zgadza się z tekstem. text: "${s}". odpowiedz: "${t.textContent}"\n                `))){const e=o(`#${t.htmlFor}`);switch(n){case 0:return void e.click();case 1:e.click()}}}));this.window?.displayError(s),this.destroySession()}catch(e){console.error(e),this.window?.displayError("Nie można utworzyć sesji. 😥")}})()}else U.window?.remove(),U.window=null,this.destroySession()}static destroySession(){this.session&&(this.session.destroy(),this.session=null)}}var B=s(253),O={};O.styleTagTransform=y(),O.setAttributes=f(),O.insert=m().bind(null,"head"),O.domAPI=p(),O.insertStyleElement=b(),c()(B.Z,O),B.Z&&B.Z.locals&&B.Z.locals;class M extends e{currentVideo=0;maxVideos=10;setPosition(e){const t=e.x-this.body.element.clientWidth/2+"px",s=e.y-this.body.element.clientHeight/2+"px";this.body.element.style.left=t,this.body.element.style.top=s}template(){const e=t("div");e.className="PeterTV";const s=t("img");s.src=d.loadAsset("Assets/PeterTV/peterTv.png"),s.alt="peterTV",s.className="PeterTV__TVImage";const n=t("video");return n.src=d.loadAsset(`Assets/PeterTV/vid_${this.currentVideo||0}.mp4`),n.addEventListener("ended",(()=>this.nextVideo())),n.addEventListener("dblclick",(()=>this.nextVideo())),n.className="PeterTV__video",n.autoplay=!0,e.appendChild(s),e.appendChild(n),{element:e,structure:{video:n}}}nextVideo(){this.currentVideo++,this.currentVideo%=this.maxVideos,this.body.structure.video.src=d.loadAsset(`Assets/PeterTV/vid_${this.currentVideo}.mp4`)}}class q{static window=null;static turn(e){if(e){if(document.URL.includes("/exam/DoTestQuestion.html")||document.URL.includes("/exam/DoStartTest.html")||document.URL.includes("/exam/LoadQuestion.html")){const e=o(".question-area"),t=new M;this.window=t,j.insert(t,e)}}else this.window?.remove()}}class ${static build(e,s=!1){const n=t("script");return n.type="text/javascript",n.textContent="string"==typeof e?e:e.toString(),s?document.body.insertBefore(n,document.body.childNodes[0]):j.insert(n),n}}class Q{static logScript=null;static blurScript=null;static turn(e){Q.destroyScripts(),e&&(Q.logScript=$.build("logToServer = () => {}"),Q.blurScript=$.build("Object.defineProperty(document, 'hasFocus', {get: () => {throw new ReferenceError('AntiBlur')},})"))}static destroyScripts(){Q.logScript?.remove(),Q.blurScript?.remove()}}var G=s(411),F={};F.styleTagTransform=y(),F.setAttributes=f(),F.insert=m().bind(null,"head"),F.domAPI=p(),F.insertStyleElement=b(),c()(G.Z,F),G.Z&&G.Z.locals&&G.Z.locals;class D{static onClick(){const e=_.readQuestionText(),t=encodeURI(`https://google.com/search?q=${e}`);window.open(t,"_blank")}static turn(e){if(!a())return;const t=o(".question_essence p");if(e)return t.style.fontWeight="bold",t.style.cursor="pointer",t.style.fontSize="20px",t.style.color="#007fff",void t.addEventListener("click",this.onClick);t.style.fontWeight="400",t.style.fontSize="1rem",t.style.cursor="text",t.style.color="#000",t.removeEventListener("click",this.onClick)}}class J extends e{key;on;constructor(e,t=!1){super(),this.key=e,this.on=t,this.ready()}template(){const e=t("div");e.className="slider",document.body.appendChild(e);const s=t("div");return s.className="slider__set",e.appendChild(s),{element:e,structure:{sliderSet:s}}}ready(){localStorage.getItem(this.key)&&(this.on=JSON.parse(localStorage.getItem(this.key))),this.setState(this.on),this.body.element.addEventListener("click",(()=>{this.setState(!this.on),this.setSettingState(),"com.runtimedevstudios.anti-testportal+.peter-tv"==this.key&&q.turn(this.on)}))}setState(e){let t=e?120:0;e?this.body.element.classList.add("on"):this.body.element.classList.remove("on"),this.body.structure.sliderSet.style.transform=`translateX(${t}%)`,this.on=e}setSettingState(){switch(localStorage.setItem(this.key,this.on?"true":"false"),this.setState(JSON.parse(localStorage.getItem(this.key))),this.key){case"com.runtimedevstudios.anti-testportal+.blur":Q.turn(this.on);break;case"com.runtimedevstudios.anti-testportal+.ai-solver":U.turn(this.on);break;case"com.runtimedevstudios.anti-testportal+.google-search":D.turn(this.on)}}}var H=s(66),W={};W.styleTagTransform=y(),W.setAttributes=f(),W.insert=m().bind(null,"head"),W.domAPI=p(),W.insertStyleElement=b(),c()(H.Z,W),H.Z&&H.Z.locals&&H.Z.locals;var X=s(11),Y={};Y.styleTagTransform=y(),Y.setAttributes=f(),Y.insert=m().bind(null,"head"),Y.domAPI=p(),Y.insertStyleElement=b(),c()(X.Z,Y),X.Z&&X.Z.locals&&X.Z.locals;class K extends e{template(){const e=t("div");return e.classList.add("settings-content-screen"),{element:e}}}class ee extends e{text;constructor(e){super(),this.text=e,this.body.structure.text.textContent=e,this.body.element.title=`${e} settings.`}template(){const e=t("li");e.classList.add("settings-item");const s=t("p");return e.appendChild(s),e.addEventListener("click",(e=>{const t=o(".settings-item.active");t&&t.classList.remove("active"),e.currentTarget.classList.add("active"),console.log(re.instance),re.instance?.updatePath(`System > Settings 🛠️ > ${this.text}`)})),{element:e,structure:{text:s}}}}var te=s(327),se={};se.styleTagTransform=y(),se.setAttributes=f(),se.insert=m().bind(null,"head"),se.domAPI=p(),se.insertStyleElement=b(),c()(te.Z,se),te.Z&&te.Z.locals&&te.Z.locals;class ne extends e{path=null;template(){const e=t("nav");e.classList.add("settings-nav");const s=t("ul"),o=t("p");return o.textContent="System > Settings 🛠️",o.classList.add("nav-path"),["AI 🤖","General 📁"].forEach((e=>{n(s,new ee(e))})),e.appendChild(s),e.appendChild(o),this.path=o,{element:e}}updatePath(e){this.path&&(this.path.textContent=e)}}class oe extends e{showScreen(e){this.appendChild(e)}template(){const e=t("div");e.classList.add("settings-screen-content");const s=t("h1");s.textContent="Settings 🛠️";const o=t("img");o.src=d.loadAsset("Assets/Icons/close.svg"),o.draggable=!1,o.title="Close tab. ❌",s.appendChild(o),e.appendChild(s);const r=new ne;n(e,r);const i=new K;return n(e,i),o.addEventListener("click",(()=>{re.instance?.getBody().element.classList.remove("visible"),setTimeout((()=>re.instance?.remove()),600)})),{element:e}}}class re extends e{static instance=null;constructor(){super(),re.instance=this}template(){const e=t("div"),s=new oe;return n(e,s),console.log("box",s),e.classList.add("settings-screen"),setTimeout((()=>e.classList.add("visible")),100),{element:e}}remove(){super.remove(),re.instance=null}updatePath(e){o(".nav-path").textContent=e}}class ie extends e{visible=!1;template(){const e=t("div");e.classList.add("settings-box"),j.insert(e);const s=t("div");s.id="widget-menu",e.appendChild(s);const o=t("div");o.id="widget-button";const r=t("img");r.src=d.loadAsset("Assets/Icons/logo.png"),r.draggable=!1,r.classList.add("SettingsBox__image"),o.appendChild(r),e.appendChild(o),o.addEventListener("click",(()=>{s.classList.toggle("visible"),this.visible=s.classList.contains("visible"),i("com.runtimedevstudios.anti-testportal+.window-open",this.visible)})),this.get("com.runtimedevstudios.anti-testportal+.window-open")&&setTimeout((()=>{s.classList.add("visible"),this.visible=!0}),100);const a=t("button");a.textContent="Settings 🛠️";const l=new T("");return l.appendChild(a),n(s,l),a.classList.add("settings-btn"),a.addEventListener("click",(()=>{n(document.body,new re)})),{element:e,structure:{menu:s}}}loadSliders(){const e=this.body.structure?.menu;new Map([["com.runtimedevstudios.anti-testportal+.blur",{name:"Anti Blur 🫧",defaultValue:!0}],["com.runtimedevstudios.anti-testportal+.ai-solver",{name:"AI Solver 🤖",defaultValue:!0}],["com.runtimedevstudios.anti-testportal+.peter-tv",{name:"PeterTV 📺",defaultValue:!1}],["com.runtimedevstudios.anti-testportal+.google-search",{name:"Google Search 🔍",defaultValue:!0}]]).forEach(((t,s)=>{localStorage.getItem(s)||i(s,t.defaultValue);const n=new T(t.name),o=new J(s);n.appendChild(o),e.appendChild(r(n))}))}get(e){return!!localStorage.getItem(e)&&(e=>{const t=localStorage.getItem(e);return!!t&&JSON.parse(t)})(e)}loadSettings(){D.turn(this.get("com.runtimedevstudios.anti-testportal+.google-search")),Q.turn(this.get("com.runtimedevstudios.anti-testportal+.blur")),U.turn(this.get("com.runtimedevstudios.anti-testportal+.ai-solver")),q.turn(this.get("com.runtimedevstudios.anti-testportal+.peter-tv")),this.loadSliders()}}document.URL.includes("/manager/")||(new ie).loadSettings()})()})();