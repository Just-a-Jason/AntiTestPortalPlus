(()=>{"use strict";var e={987:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,"@keyframes popUp{from{transform:scale(0)}to{transform:scale(1)}}.ChatGPTResponse-ErrorPopUP{animation:popUp .5s ease-in-out;box-shadow:2px 2px 5px #000;background:#030303;border-radius:10px;text-align:center;padding:10px;width:200px}",""]);const a=i},195:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,"@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.5)}}.loadingSpinner{display:flex}.loadingSpinner .dot{animation:pulse 1.5s ease-in-out infinite;background-color:#464646;border-radius:50%;width:10px;height:10px;margin:4px}.loadingSpinner .dot:nth-child(2){animation-delay:1s}.loadingSpinner .dot:nth-child(3){animation-delay:.5s}",""]);const a=i},728:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".ChatGPTResponse{user-select:none;border-radius:20px 20px 0px 0px;box-shadow:2px 2px 15px #000;background-color:#171717;font-family:monospace;margin-bottom:20px;max-height:400px;margin-top:20px;width:250px}.ChatGPTResponse__Image{height:40px;width:40px}.ChatGPTResponse__Header{background-color:#222;border-bottom:2px solid #464646;border-radius:20px 20px 0px 0px;justify-content:space-evenly;align-items:center;cursor:pointer;padding:10px;display:flex}.ChatGPTResponse__Header p{color:#fff;font-weight:bold;font-size:15px}.ChatGPTResponse__Footer{background-color:#222;border-radius:20px 20px 0px 0px;font-family:monospace;color:#464646;text-align:center;font-weight:bold;padding:10px}.ChatGPTResponse__Footer *{margin:0}.ChatGPTResponse__Body{background-color:#171717;justify-content:center;flex-direction:column;align-items:center;height:295px;padding:10px;color:#fff;display:flex}",""]);const a=i},127:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".ChatGPTResponse-RetryButton{box-shadow:2px 2px 10px #000;border-radius:10px;background-color:#222;margin-top:10px;cursor:pointer;padding:10px;width:100px;display:flex;align-items:center;justify-content:space-around;transition:.2s}.ChatGPTResponse-RetryButton:hover{background-color:#145060}",""]);const a=i},253:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".PeterTV{justify-content:center;background-color:#000;align-items:center;overflow:hidden;margin-top:50px;height:125px;display:flex;width:190px;cursor:grab}.PeterTV__TVImage{position:absolute;width:200px}.PeterTV__video{width:150px}",""]);const a=i},356:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".menu-item{border-bottom:1px solid #ccc;font-weight:bold;min-width:100px;font-size:14px;cursor:pointer;padding:10px;color:#000}.menu-item:last-child{border-bottom:none}",""]);const a=i},66:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".flexCenter,#widget-button{justify-content:center;flex-direction:column;align-items:center;display:flex}.settings-box{user-select:none;box-shadow:4px 4px 5px #888;background-color:#fafafa;border:solid 3px #e6e6e6;font-family:monospace;border-radius:15px;transition:.2s;position:fixed;cursor:pointer;font-size:10px;z-index:100;color:#fff;bottom:20px;right:20px}.settings-box:hover{background-color:#a6a6a6;border:solid 3px #303030}#widget-button{transition:.2s;cursor:pointer;height:40px;width:40px}#widget-button img{height:25px;width:25px}#widget-menu{box-shadow:0 0 10px rgba(0,0,0,.1);background-color:#fff;margin-bottom:20px;border-radius:5px;transform:translateX(150px);position:absolute;transition:.2s;bottom:100%;z-index:1;right:0}#widget-menu.visible{transform:translateX(0px)}",""]);const a=i},411:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),o=s.n(n),r=s(645),i=s.n(r)()(o());i.push([e.id,".slider{background-color:#171717;justify-content:left;border-radius:10px;align-items:center;position:relative;transition:.3s;cursor:pointer;display:flex;height:20px;width:40px}.slider__set{background-color:#fff;border-radius:50%;position:absolute;transition:.3s;margin-left:2px;height:15px;width:15px}.slider.on{background-color:#ff9d1c}",""]);const a=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",n=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),n&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),n&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,n,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var a=0;a<this.length;a++){var d=this[a][0];null!=d&&(i[d]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);n&&i[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),s&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=s):c[2]=s),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function s(e){for(var s=-1,n=0;n<t.length;n++)if(t[n].identifier===e){s=n;break}return s}function n(e,n){for(var r={},i=[],a=0;a<e.length;a++){var d=e[a],l=n.base?d[0]+n.base:d[0],c=r[l]||0,u="".concat(l," ").concat(c);r[l]=c+1;var p=s(u),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var h=o(m,n);n.byIndex=a,t.splice(a,0,{identifier:u,updater:h,references:1})}i.push(u)}return i}function o(e,t){var s=t.domAPI(t);return s.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;s.update(e=t)}else s.remove()}}e.exports=function(e,o){var r=n(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<r.length;i++){var a=s(r[i]);t[a].references--}for(var d=n(e,o),l=0;l<r.length;l++){var c=s(r[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}r=d}}},569:e=>{var t={};e.exports=function(e,s){var n=function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(s)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,s)=>{e.exports=function(e){var t=s.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(s){!function(e,t,s){var n="";s.supports&&(n+="@supports (".concat(s.supports,") {")),s.media&&(n+="@media ".concat(s.media," {"));var o=void 0!==s.layer;o&&(n+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),n+=s.css,o&&(n+="}"),s.media&&(n+="}"),s.supports&&(n+="}");var r=s.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,s)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.nc=void 0,(()=>{class e{static removeAllChild(e){e.childNodes?.forEach((e=>e.remove()))}}const t=e=>document.createElement(e),n=e=>e.getBody().element,o=(e,t)=>localStorage.setItem(e,t.toString());class r{static instance=new r;browser=this.getBrowser();static loadAsset(e){return this.instance.loadAssetUrl(e)}loadAssetUrl(e){switch(this.browser){case"Chrome":case"Edge":case"Opera":return chrome.runtime.getURL(e);case"Mozilla Firefox":browser.runtime.getURL(e);default:throw new Error(`${this.browser} your browser is not supported.`)}}getBrowser(){const e=window.navigator.userAgent;return e.includes("Firefox")?"Mozilla Firefox":e.includes("SamsungBrowser")?"Samsung Internet":e.includes("Opera")||e.includes("OPR")?"Opera":e.includes("Edge")||e.includes("Edg")?"Edge":e.includes("Chrome")?"Chrome":e.includes("Safari")?"Apple Safari":"Unknown"}}class i{body;constructor(){this.body=this.initTemplate()}appendChild(e){e instanceof i?this.body.element.appendChild(e.body.element):this.body.element.appendChild(e)}getBody(){return this.body}remove(){this.body.element.remove(),this.done()}initTemplate(){return this.template()}done(){}ready(){}}var a=s(379),d=s.n(a),l=s(795),c=s.n(l),u=s(569),p=s.n(u),m=s(565),h=s.n(m),g=s(216),f=s.n(g),x=s(589),y=s.n(x),b=s(356),v={};v.styleTagTransform=y(),v.setAttributes=h(),v.insert=p().bind(null,"head"),v.domAPI=c(),v.insertStyleElement=f(),d()(b.Z,v),b.Z&&b.Z.locals&&b.Z.locals;class w extends i{menuItemText;constructor(e){super(),this.menuItemText=e,this.body.element.textContent=this.menuItemText}template(){const e=t("div");return e.className="menu-item",{element:e}}}var T=s(195),S={};S.styleTagTransform=y(),S.setAttributes=h(),S.insert=p().bind(null,"head"),S.domAPI=c(),S.insertStyleElement=f(),d()(T.Z,S),T.Z&&T.Z.locals&&T.Z.locals;class C extends i{template(){const e=t("div");e.className="loadingSpinner";for(let s=0;s<3;s++){const s=t("div");s.className="dot",e.appendChild(s)}return{element:e}}}var A=s(987),P={};P.styleTagTransform=y(),P.setAttributes=h(),P.insert=p().bind(null,"head"),P.domAPI=c(),P.insertStyleElement=f(),d()(A.Z,P),A.Z&&A.Z.locals&&A.Z.locals;class _ extends i{errorText;template(){const e=t("p");return e.classList.add("ChatGPTResponse-ErrorPopUP"),{element:e}}constructor(e){super(),this.errorText=e,this.ready()}ready(){this.body.element.innerText=this.errorText}}var Z=s(127),I={};I.styleTagTransform=y(),I.setAttributes=h(),I.insert=p().bind(null,"head"),I.domAPI=c(),I.insertStyleElement=f(),d()(Z.Z,I),Z.Z&&Z.Z.locals&&Z.Z.locals;class k extends i{constructor(){super(),this.ready()}template(){const e=t("div"),s=t("img");s.src=r.loadAsset("Assets/Icons/reload.svg");const n=t("p");return n.textContent="Retry",e.classList.add("ChatGPTResponse-RetryButton"),e.appendChild(n),e.appendChild(s),{element:e}}ready(){this.body?.element?.addEventListener("click",(()=>{B.turn(!1),B.turn(!0)}))}}var E=s(728),R={};R.styleTagTransform=y(),R.setAttributes=h(),R.insert=p().bind(null,"head"),R.domAPI=c(),R.insertStyleElement=f(),d()(E.Z,R),E.Z&&E.Z.locals&&E.Z.locals;class V extends i{template(){const e=t("div");e.className="ChatGPTResponse";const s=t("section");s.className="ChatGPTResponse__Header";const o=t("img");o.src=r.loadAsset("Assets/Icons/ai.svg"),o.alt="chat gpt logo",o.className="ChatGPTResponse__Image";const i=t("p");i.textContent="AI Solver ✨",s.appendChild(o),s.appendChild(i);const a=t("section");a.className="ChatGPTResponse__Body";const d=new C;a.appendChild(n(d));const l=t("footer");l.className="ChatGPTResponse__Footer";const c=t("p");return c.textContent="RuntimeDevStudios.com",l.appendChild(c),e.appendChild(s),e.appendChild(a),e.appendChild(l),{element:e,structure:{responseBody:a,spinner:d}}}displayError(t){if(this.body.structure?.responseBody){this.body.structure.spinner=void 0;const s=new _(t),o=new k;e.removeAllChild(this.body.structure.responseBody),this.body.structure?.responseBody.appendChild(n(s)),this.body.structure?.responseBody.appendChild(n(o))}}}class L{static readQuestionText(){const e=document.querySelector(".question_essence");return e?e.textContent:""}static readAnswers(){const e=document.querySelector(".question_answers");if(!e)return"";let t="";return e.childNodes.forEach((e=>{const s=e.querySelector("p");s&&(t+=s.innerText+"\n")})),t}static getQuestionType(){return 0}}class N{static insert(e,t=null){e=e instanceof i?n(e):e,null===t?document.body.append(e):t instanceof i?t.appendChild(e):t.append(e)}}class B{static window=null;static turn(e){if(document.URL.includes("/exam/DoTestQuestion.html")||document.URL.includes("/exam/DoStartTest.html")||document.URL.includes("/exam/LoadQuestion.html"))if(e){B.window=new V;const e=document.querySelector(".question-area");if(N.insert(B.window,e),!window.ai)return void B.window?.displayError("Twoja przeglądarka nie obsługuje jeszcze Chrome AI API... 🤖");const t=L.readQuestionText()+"\n"+L.readAnswers();""===t.trim()&&this.window?.displayError("Nie mogę odczytać odpowiedzi ani pytania... 😥"),(async()=>{const e=await window.ai.createTextSession(),s=await e.prompt(t);this.window?.displayError(s),e.destroy()})()}else B.window?.remove(),B.window=null}}var G=s(253),U={};U.styleTagTransform=y(),U.setAttributes=h(),U.insert=p().bind(null,"head"),U.domAPI=c(),U.insertStyleElement=f(),d()(G.Z,U),G.Z&&G.Z.locals&&G.Z.locals;class j extends i{currentVideo=0;maxVideos=10;setPosition(e){const t=e.x-this.body.element.clientWidth/2+"px",s=e.y-this.body.element.clientHeight/2+"px";this.body.element.style.left=t,this.body.element.style.top=s}template(){const e=t("div");e.className="PeterTV";const s=t("img");s.src=r.loadAsset("Assets/PeterTV/peterTv.png"),s.alt="peterTV",s.className="PeterTV__TVImage";const n=t("video");return n.src=r.loadAsset(`Assets/PeterTV/vid_${this.currentVideo||0}.mp4`),n.addEventListener("ended",(()=>this.nextVideo())),n.addEventListener("dblclick",(()=>this.nextVideo())),n.className="PeterTV__video",n.autoplay=!0,e.appendChild(s),e.appendChild(n),{element:e,structure:{video:n}}}nextVideo(){this.currentVideo++,this.currentVideo%=this.maxVideos,this.body.structure.video.src=r.loadAsset(`Assets/PeterTV/vid_${this.currentVideo}.mp4`)}}class q{static _peterTVWindow=null;static turn(e){if(e){if(document.URL.includes("/exam/DoTestQuestion.html")||document.URL.includes("/exam/DoStartTest.html")||document.URL.includes("/exam/LoadQuestion.html")){const e=document.querySelector(".question-area"),t=new j;this._peterTVWindow=t,N.insert(t,e)}}else this._peterTVWindow?.remove()}}class z{static build(e,s=!1){const n=t("script");return n.type="text/javascript",n.textContent="string"==typeof e?e:e.toString(),s?document.body.insertBefore(n,document.body.childNodes[0]):N.insert(n),n}}class O{static logScript=null;static blurScript=null;static turn(e){O.destroyScripts(),e&&(O.logScript=z.build("logToServer = () => {}"),O.blurScript=z.build("Object.defineProperty(document, 'hasFocus', {get: () => {throw new ReferenceError('AntiBlur')},})"))}static destroyScripts(){O.logScript?.remove(),O.blurScript?.remove()}}var M=s(411),F={};F.styleTagTransform=y(),F.setAttributes=h(),F.insert=p().bind(null,"head"),F.domAPI=c(),F.insertStyleElement=f(),d()(M.Z,F),M.Z&&M.Z.locals&&M.Z.locals;class Q extends i{key;on;constructor(e,t=!1){super(),this.key=e,this.on=t,this.ready()}template(){const e=t("div");e.className="slider",document.body.appendChild(e);const s=t("div");return s.className="slider__set",e.appendChild(s),{element:e,structure:{sliderSet:s}}}ready(){localStorage.getItem(this.key)&&(this.on=JSON.parse(localStorage.getItem(this.key))),this.setState(this.on),this.body.element.addEventListener("click",(()=>{this.setState(!this.on),this.setSettingState(),"com.runtimedevstudios.anti-testportal+.peter-tv"==this.key&&q.turn(this.on)}))}setState(e){let t=e?120:0;e?this.body.element.classList.add("on"):this.body.element.classList.remove("on"),this.body.structure.sliderSet.style.transform=`translateX(${t}%)`,this.on=e}setSettingState(){switch(localStorage.setItem(this.key,this.on?"true":"false"),this.setState(JSON.parse(localStorage.getItem(this.key))),this.key){case"com.runtimedevstudios.anti-testportal+.blur":O.turn(this.on);break;case"com.runtimedevstudios.anti-testportal+.ai-solver":B.turn(this.on)}}}var D=s(66),H={};H.styleTagTransform=y(),H.setAttributes=h(),H.insert=p().bind(null,"head"),H.domAPI=c(),H.insertStyleElement=f(),d()(D.Z,H),D.Z&&D.Z.locals&&D.Z.locals;class W{static turn(e){if(e){const e=document.querySelector(".question_essence p");if(e){e.style.color="#007fff",e.style.cursor="pointer",e.style.fontWeight="bold",e.style.fontSize="20px";const t=encodeURI(`https://google.com/search?q=${e.textContent}`);e.setAttribute("search",t),e.addEventListener("click",(e=>{const t=e.currentTarget.getAttribute("search");t&&window.open(t,"_blank")}))}}}}(new class extends i{visible=!1;template(){const e=t("div");e.classList.add("settings-box"),N.insert(e);const s=t("div");s.id="widget-menu",e.appendChild(s);const n=t("div");n.id="widget-button";const i=t("img");return i.src=r.loadAsset("Assets/Icons/logo.png"),i.draggable=!1,i.classList.add("SettingsBox__image"),n.appendChild(i),e.appendChild(n),n.addEventListener("click",(()=>{s.classList.toggle("visible"),this.visible=s.classList.contains("visible"),o("com.runtimedevstudios.anti-testportal+.window-open",this.visible)})),this.get("com.runtimedevstudios.anti-testportal+.window-open")&&(s.classList.add("visible"),this.visible=!0),{element:e,structure:{menu:s}}}loadSliders(){const e=this.body.structure?.menu;new Map([["com.runtimedevstudios.anti-testportal+.blur",{name:"Anti Blur 🫧",defaultValue:!0}],["com.runtimedevstudios.anti-testportal+.ai-solver",{name:"AI Solver 🤖",defaultValue:!0}],["com.runtimedevstudios.anti-testportal+.peter-tv",{name:"PeterTV 📺",defaultValue:!1}],["com.runtimedevstudios.anti-testportal+.google-search",{name:"Google Search 🔍",defaultValue:!0}]]).forEach(((t,s)=>{localStorage.getItem(s)||o(s,t.defaultValue);const r=new w(t.name),i=new Q(s);r.appendChild(i),e.appendChild(n(r))}))}get(e){return!!localStorage.getItem(e)&&(e=>{const t=localStorage.getItem(e);return!!t&&JSON.parse(t)})(e)}loadSettings(){W.turn(this.get("com.runtimedevstudios.anti-testportal+.google-search")),O.turn(this.get("com.runtimedevstudios.anti-testportal+.blur")),B.turn(this.get("com.runtimedevstudios.anti-testportal+.ai-solver")),q.turn(this.get("com.runtimedevstudios.anti-testportal+.peter-tv")),this.loadSliders()}}).loadSettings()})()})();